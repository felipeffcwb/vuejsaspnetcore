{"remainingRequest":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/src/components/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/src/components/Update.vue","mtime":1576210961251},{"path":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/felipe/Documents/CrudAspNetCoreApiVueJs/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJVcGRhdGUiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBuYW1lOiBudWxsLA0KICAgICAgZW1haWw6IG51bGwsDQogICAgICBwaG9uZTogbnVsbCwNCiAgICAgIGpvYjogbnVsbCwNCiAgICAgIGlucHV0SWQ6IG51bGwsDQogICAgICBlcnJvcnM6IFtdLA0KICAgICAgTG9hZGluZzogdHJ1ZQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGVSZWdpc3RlcihlKSB7DQogICAgICBpZiAodGhpcy5uYW1lICYmIHRoaXMuZW1haWwgJiYgdGhpcy5waG9uZSAmJiB0aGlzLmpvYikgew0KICAgICAgICB0aGlzLmF4aW9zDQogICAgICAgICAgLnB1dCgiaHR0cHM6Ly9jcnVkdnVlanMuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1JlZ2lzdGVyLyIgKyB0aGlzLmlucHV0SWQsIHsNCiAgICAgICAgICAgIE5hbWU6IHRoaXMubmFtZSwNCiAgICAgICAgICAgIEVtYWlsOiB0aGlzLmVtYWlsLA0KICAgICAgICAgICAgUGhvbmU6IHRoaXMucGhvbmUsDQogICAgICAgICAgICBKb2I6IHRoaXMuam9iLA0KICAgICAgICAgICAgUmVnaXN0ZXJJZDogdGhpcy5pbnB1dElkDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLmRhdGEpIHsNCiAgICAgICAgICAgICAgY2FzZSBmYWxzZToNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCJlcnJvciwgdHJ5IGFnYWluLi4uIDovIik7DQogICAgICAgICAgICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgICAgY2FzZSB0cnVlOg0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIk9rLCB1cGRhdGVkIHdpdGggc3VjY2VzcyEiKTsNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWUgPSBudWxsOw0KICAgICAgICAgICAgICAgIHRoaXMuZW1haWwgPSBudWxsOw0KICAgICAgICAgICAgICAgIHRoaXMucGhvbmUgPSBudWxsOw0KICAgICAgICAgICAgICAgIHRoaXMuam9iID0gbnVsbDsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHJvdXRlci5wdXNoKCIvUGVvcGxlcyIpLCAyMDAwKTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2gocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIGlmICghdGhpcy5uYW1lKSB7DQogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkNhbXBvIG5vbWUgb2JyaWdhdMOzcmlvIik7DQogICAgICB9DQoNCiAgICAgIGlmICghdGhpcy5lbWFpbCkgew0KICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCJDYW1wbyBlbWFpbCBvYnJpZ2F0w7NyaW8iKTsNCiAgICAgIH0NCg0KICAgICAgaWYgKCF0aGlzLnBob25lKSB7DQogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkNhbXBvIHNlbmhhIG9icmlnYXTDs3JpbyIpOw0KICAgICAgfQ0KDQogICAgICBpZiAoIXRoaXMuam9iKSB7DQogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkNhbXBvIGNvbmZpcm1hw6fDo28gb2JyaWdhdMOzcmlvIik7DQogICAgICB9DQoNCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZXJyb3JzKTsNCiAgICB9DQogIH0sDQogIGJlZm9yZUNyZWF0ZSgpIHsNCiAgICB0aGlzLmF4aW9zDQogICAgICAuZ2V0KCJodHRwczovL2NydWR2dWVqcy5henVyZXdlYnNpdGVzLm5ldC9hcGkvUmVnaXN0ZXIvIiArIHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKQ0KICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgew0KICAgICAgICAgIHRoaXMuTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMubmFtZSA9IHJlc3BvbnNlLmRhdGEubmFtZTsNCiAgICAgICAgICB0aGlzLmVtYWlsID0gcmVzcG9uc2UuZGF0YS5lbWFpbDsNCiAgICAgICAgICB0aGlzLnBob25lID0gcmVzcG9uc2UuZGF0YS5waG9uZTsNCiAgICAgICAgICB0aGlzLmpvYiA9IHJlc3BvbnNlLmRhdGEuam9iOw0KICAgICAgICAgIHRoaXMuaW5wdXRJZCA9IHJlc3BvbnNlLmRhdGEucmVnaXN0ZXJJZDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogIH0NCn07DQo="},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Update.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 d-flex\">\r\n        <h4 class=\"card-title mt-3 text-center\">Register</h4>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"card bg-light\">\r\n      <article class=\"card-body mx-auto\" style=\"max-width: 400px;\">\r\n        <div v-for=\"item in errors\" :key=\"item.index\" class=\"col-12\">\r\n          <div\r\n            class=\"alert alert-primary alert-dismissible fade show col-12\"\r\n            role=\"alert\"\r\n            v-if=\"errors.length\"\r\n          >\r\n            <p>{{item}}</p>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <h4 class=\"card-title mt-3 text-center\">Update people</h4>\r\n        <div v-if=\"!Loading\">\r\n          <form @submit=\"updateRegister\">\r\n            <div class=\"form-group input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <font-awesome-icon icon=\"user\" />\r\n                </span>\r\n              </div>\r\n              <input\r\n                name=\"name\"\r\n                class=\"form-control\"\r\n                placeholder=\"Full name\"\r\n                type=\"text\"\r\n                v-model=\"name\"\r\n                required\r\n              />\r\n            </div>\r\n            <!-- form-group// -->\r\n            <div class=\"form-group input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <font-awesome-icon icon=\"envelope\" />\r\n                </span>\r\n              </div>\r\n              <input\r\n                name=\"email\"\r\n                class=\"form-control\"\r\n                placeholder=\"Email address\"\r\n                type=\"email\"\r\n                v-model=\"email\"\r\n                required\r\n              />\r\n            </div>\r\n            <!-- form-group// -->\r\n            <div class=\"form-group input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <font-awesome-icon icon=\"phone\" />\r\n                </span>\r\n              </div>\r\n              <input\r\n                name=\"phone\"\r\n                class=\"form-control\"\r\n                placeholder=\"Phone number\"\r\n                type=\"text\"\r\n                v-model=\"phone\"\r\n                required\r\n              />\r\n              <input type=\"hidden\" v-model=\"inputId\" disabled />\r\n            </div>\r\n            <!-- form-group// -->\r\n            <div class=\"form-group input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <font-awesome-icon icon=\"briefcase\" />\r\n                </span>\r\n              </div>\r\n              <select name=\"job\" class=\"form-control\" v-model=\"job\" required>\r\n                <option selected>Select job type</option>\r\n                <option>Designer</option>\r\n                <option>Manager</option>\r\n                <option>Accaunting</option>\r\n              </select>\r\n            </div>\r\n            <!-- form-group end.// -->\r\n\r\n            <!-- form-group// -->\r\n            <div class=\"form-group\">\r\n              <button type=\"submit\" class=\"btn btn-primary btn-block\">Update!</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" v-else>\r\n            <img src=\"../assets/103.gif\" />\r\n        </div>\r\n      </article>\r\n    </div>\r\n    <!-- card.// -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Update\",\r\n  data() {\r\n    return {\r\n      name: null,\r\n      email: null,\r\n      phone: null,\r\n      job: null,\r\n      inputId: null,\r\n      errors: [],\r\n      Loading: true\r\n    };\r\n  },\r\n  methods: {\r\n    updateRegister(e) {\r\n      if (this.name && this.email && this.phone && this.job) {\r\n        this.axios\r\n          .put(\"https://crudvuejs.azurewebsites.net/api/Register/\" + this.inputId, {\r\n            Name: this.name,\r\n            Email: this.email,\r\n            Phone: this.phone,\r\n            Job: this.job,\r\n            RegisterId: this.inputId\r\n          })\r\n          .then(response => {\r\n            switch (response.data) {\r\n              case false:\r\n                this.errors.push(\"error, try again... :/\");\r\n                break;\r\n\r\n              case true:\r\n                this.errors.push(\"Ok, updated with success!\");\r\n                this.name = null;\r\n                this.email = null;\r\n                this.phone = null;\r\n                this.job = null;\r\n                setTimeout(() => this.$router.push(\"/Peoples\"), 2000);\r\n                break;\r\n            }\r\n            // this.errors.push(response.data);\r\n          });\r\n      }\r\n\r\n      if (!this.name) {\r\n        this.errors.push(\"Campo nome obrigatório\");\r\n      }\r\n\r\n      if (!this.email) {\r\n        this.errors.push(\"Campo email obrigatório\");\r\n      }\r\n\r\n      if (!this.phone) {\r\n        this.errors.push(\"Campo senha obrigatório\");\r\n      }\r\n\r\n      if (!this.job) {\r\n        this.errors.push(\"Campo confirmação obrigatório\");\r\n      }\r\n\r\n      e.preventDefault();\r\n      console.log(this.errors);\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    this.axios\r\n      .get(\"https://crudvuejs.azurewebsites.net/api/Register/\" + this.$route.query.id)\r\n      .then(response => {\r\n        if (response.data) {\r\n          this.Loading = false;\r\n          this.name = response.data.name;\r\n          this.email = response.data.email;\r\n          this.phone = response.data.phone;\r\n          this.job = response.data.job;\r\n          this.inputId = response.data.registerId;\r\n        }\r\n      });\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}